!function(){window.ctm||(window.ctm={});var e=window.ctm;e.construct=function(){return e.getSurfaces(),e.validEnvironment()?e.registerEnhanced():e.registerCore()},e.validEnvironment=function(){return!e.coreRequired()&&("querySelector"in document&&"localStorage"in window&&"addEventListener"in window)},e.coreRequired=function(e){return void 0!==e&&(window.localStorage.setItem("core",e),location.reload()),!!JSON.parse(window.localStorage.getItem("core"))},e.getSurfaces=function(){e.surfaces={html:document.getElementsByTagName("html")[0],head:document.getElementsByTagName("head")[0],body:document.getElementsByTagName("body")[0]}},e.registerEnhanced=function(){e.surfaces.html.className+=" enhanced",e.appendStylesheet(window.themeDir+"/_assets/css/enhanced.css?v="+window.themeVersion),e.appendScript(window.themeDir+"/_assets/js/script.js?v="+window.themeVersion)},e.registerCore=function(){e.appendStylesheet(window.themeDir+"/_assets/css/core.css?v="+window.themeVersion)},e.appendStylesheet=function(t){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,e.surfaces.head.appendChild(n)},e.appendScript=function(t){var n=document.createElement("script");n.src=t,n.defer=!0,e.surfaces.body.appendChild(n)},e.construct()}();