self.addEventListener("install",(function(e){e.waitUntil(preLoad())}));var preLoad=function(){return caches.open("offline").then((function(e){return e.addAll(["/offline/","/"])}))};self.addEventListener("fetch",(function(e){"only-if-cached"===e.request.cache&&"same-origin"!==e.request.mode||(e.respondWith(checkResponse(e.request).catch((function(){return returnFromCache(e.request)}))),e.waitUntil(addToCache(e.request)))}));var checkResponse=function(e){return new Promise((function(n,t){fetch(e).then((function(e){404!==e.status?n(e):t()}),t)}))},addToCache=function(e){return caches.open("offline").then((function(n){return fetch(e).then((function(t){return n.put(e,t)}))}))},returnFromCache=function(e){return caches.open("offline").then((function(n){return n.match(e.clone()).then((function(e){return e&&404!=e.status?e:n.match("offline/")}))}))};